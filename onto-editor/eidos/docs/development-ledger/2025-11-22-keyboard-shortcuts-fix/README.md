# Keyboard Shortcuts Fix - November 22, 2025

## Overview

This ledger tracks the comprehensive fix of the keyboard shortcuts system in Eidos, addressing browser conflicts, broken functionality, and implementation issues.

## Problem Statement

The keyboard shortcuts system has several critical issues:
1. **Browser Conflicts**: Shortcuts using Ctrl/Cmd+Shift+L/T/H/I conflict with browser defaults
2. **Broken Undo/Redo**: Keyboard shortcuts for undo/redo dispatch events but aren't handled
3. **Fragile Implementation**: Uses button clicking simulation via DOM selectors instead of direct method calls
4. **Incomplete Coverage**: Not all shortcuts listed in the dialog actually work
5. **Poor Discoverability**: Users don't know which shortcuts work

## Goals

- ✅ Remove all browser-conflicting shortcuts
- ✅ Wire up undo/redo functionality to keyboard shortcuts
- ✅ Replace button clicking with direct JSInvokable Blazor method calls
- ✅ Update keyboard shortcuts dialog to show only working shortcuts
- ✅ Ensure all shortcuts work across Chrome, Firefox, Safari, Edge
- ✅ Improve user experience with reliable, predictable shortcuts

## Documents

- [requirements.md](./requirements.md) - Comprehensive requirements (generated by requirements-architect agent)
- [implementation-plan.md](./implementation-plan.md) - Step-by-step implementation plan
- [PROGRESS.md](./PROGRESS.md) - Progress tracking and status updates

## Timeline

- **Start Date**: November 22, 2025
- **Target Completion**: November 23, 2025 (Phase 1 - Critical fixes)
- **Status**: In Progress

## Related Issues

- Keyboard shortcuts help dialog (`?` key) works correctly
- Some Alt+key shortcuts work (Alt+G, Alt+L, Alt+C, Alt+R)
- Command palette needs to be wired to Ctrl/Cmd+K

## Key Decisions

1. **Use Alt/Option modifiers** for view switching instead of Ctrl/Cmd+Shift to avoid browser conflicts
2. **Change command palette shortcut** from Ctrl+Cmd+Shift+Space to Ctrl/Cmd+K (industry standard)
3. **Direct method invocation** via JSInterop instead of button clicking for reliability
4. **Remove non-working shortcuts** from dialog to avoid user confusion
5. **Phase implementation** - P0 critical fixes first, P1 enhancements second, P2 future features

## Success Criteria

- All shortcuts in help dialog work reliably
- Zero browser conflicts when using shortcuts
- Undo/redo works for concept and relationship operations
- All shortcuts tested on Chrome, Firefox, Safari, Edge
- User can complete full workflow using keyboard only
