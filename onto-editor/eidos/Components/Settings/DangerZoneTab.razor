@using Eidos.Models

<div class="settings-section danger-zone">
    <div class="settings-section-header">
        <h4><i class="bi bi-exclamation-triangle me-2"></i>Danger Zone</h4>
        <p class="text-muted">Irreversible and destructive actions.</p>
    </div>

    <div class="settings-group">
        <!-- Archive Ontology -->
        <div class="danger-item">
            <div class="danger-item-content">
                <h6 class="mb-1">Archive this ontology</h6>
                <p class="text-muted small mb-0">
                    Mark this ontology as archived. It will be hidden from your dashboard but can be restored later.
                </p>
            </div>
            <button class="btn btn-outline-warning btn-sm" disabled>
                Archive
                <span class="badge bg-secondary ms-2">Coming Soon</span>
            </button>
        </div>

        <!-- Transfer Ownership -->
        <div class="danger-item">
            <div class="danger-item-content">
                <h6 class="mb-1">Transfer ownership</h6>
                <p class="text-muted small mb-0">
                    Transfer ownership of this ontology to another user. You will lose full access privileges.
                </p>
            </div>
            <button class="btn btn-outline-warning btn-sm" disabled>
                Transfer
                <span class="badge bg-secondary ms-2">Coming Soon</span>
            </button>
        </div>

        <!-- Delete Ontology -->
        <div class="danger-item danger-item-critical">
            <div class="danger-item-content">
                <h6 class="mb-1 text-danger">Delete this ontology</h6>
                <p class="text-muted small mb-0">
                    Permanently delete <strong>@OntologyName</strong> and all of its concepts, relationships, and history.
                    <strong>This action cannot be undone.</strong>
                </p>
            </div>
            <button class="btn btn-danger btn-sm" @onclick="HandleDelete">
                <i class="bi bi-trash me-2"></i>Delete Forever
            </button>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public int OntologyId { get; set; }

    [Parameter]
    public string OntologyName { get; set; } = string.Empty;

    [Parameter]
    public EventCallback OnDelete { get; set; }

    private async Task HandleDelete()
    {
        await OnDelete.InvokeAsync();
    }
}

<style>
    .danger-zone {
        border-color: var(--bs-danger) !important;
    }

    .danger-zone .settings-section-header {
        background-color: rgba(220, 53, 69, 0.1);
        border-bottom-color: var(--bs-danger);
    }

    .danger-item {
        padding: 1.5rem;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .danger-item:last-child {
        margin-bottom: 0;
    }

    .danger-item-critical {
        border-color: var(--bs-danger);
        background-color: rgba(220, 53, 69, 0.05);
    }

    .danger-item-content {
        flex: 1;
    }

    .danger-item-content h6 {
        font-weight: 600;
    }

    @@media (max-width: 767px) {
        .danger-item {
            flex-direction: column;
            align-items: flex-start;
        }

        .danger-item button {
            width: 100%;
        }
    }
</style>
