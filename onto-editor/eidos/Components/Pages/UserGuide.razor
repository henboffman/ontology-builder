@page "/user-guide"
@rendermode InteractiveServer
@using Microsoft.JSInterop
@inject IJSRuntime JS

<PageTitle>User Guide - Eidos</PageTitle>
<HeadContent>
    <meta name="description" content="Learn how to use Eidos Ontology Builder. Create ontologies, add concepts and relationships, collaborate with others, and export your work." />
</HeadContent>

<div class="container-fluid py-4 user-guide-page">
    <div class="row">
        <!-- Table of Contents Sidebar -->
        <div class="col-lg-3 d-none d-lg-block">
            <div class="sticky-top" style="top: 20px;">
                <h5 class="mb-3">Guide</h5>
                <nav class="nav flex-column doc-nav">
                    <button class="nav-link @(activeSection == "getting-started" ? "active" : "")" @onclick='async () => await ScrollToSection("getting-started")'>
                        <i class="bi bi-rocket"></i> Getting Started
                    </button>
                    <button class="nav-link @(activeSection == "creating-ontology" ? "active" : "")" @onclick='async () => await ScrollToSection("creating-ontology")'>
                        <i class="bi bi-plus-circle"></i> Creating an Ontology
                    </button>
                    <button class="nav-link @(activeSection == "concepts" ? "active" : "")" @onclick='async () => await ScrollToSection("concepts")'>
                        <i class="bi bi-box"></i> Working with Concepts
                    </button>
                    <button class="nav-link @(activeSection == "property-definitions" ? "active" : "")" @onclick='async () => await ScrollToSection("property-definitions")'>
                        <i class="bi bi-diagram-2"></i> Property Definitions
                    </button>
                    <button class="nav-link @(activeSection == "restrictions" ? "active" : "")" @onclick='async () => await ScrollToSection("restrictions")'>
                        <i class="bi bi-shield-check"></i> Restrictions
                    </button>
                    <button class="nav-link @(activeSection == "relationships" ? "active" : "")" @onclick='async () => await ScrollToSection("relationships")'>
                        <i class="bi bi-arrow-left-right"></i> Relationships
                    </button>
                    <button class="nav-link @(activeSection == "views" ? "active" : "")" @onclick='async () => await ScrollToSection("views")'>
                        <i class="bi bi-eye"></i> Different Views
                    </button>
                    <button class="nav-link @(activeSection == "workspaces" ? "active" : "")" @onclick='async () => await ScrollToSection("workspaces")'>
                        <i class="bi bi-journal-text"></i> Workspaces & Notes
                    </button>
                    <button class="nav-link @(activeSection == "collaboration" ? "active" : "")" @onclick='async () => await ScrollToSection("collaboration")'>
                        <i class="bi bi-people"></i> Collaboration
                    </button>
                    <button class="nav-link @(activeSection == "importing" ? "active" : "")" @onclick='async () => await ScrollToSection("importing")'>
                        <i class="bi bi-download"></i> Importing
                    </button>
                    <button class="nav-link @(activeSection == "exporting" ? "active" : "")" @onclick='async () => await ScrollToSection("exporting")'>
                        <i class="bi bi-upload"></i> Exporting
                    </button>
                    <button class="nav-link @(activeSection == "ontology-linking" ? "active" : "")" @onclick='async () => await ScrollToSection("ontology-linking")'>
                        <i class="bi bi-diagram-3"></i> Ontology Linking
                    </button>
                    <button class="nav-link @(activeSection == "keyboard-shortcuts" ? "active" : "")" @onclick='async () => await ScrollToSection("keyboard-shortcuts")'>
                        <i class="bi bi-keyboard"></i> Keyboard Shortcuts
                    </button>
                    <button class="nav-link @(activeSection == "tips" ? "active" : "")" @onclick='async () => await ScrollToSection("tips")'>
                        <i class="bi bi-lightbulb"></i> Tips & Tricks
                    </button>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="col-lg-9">
            <div class="doc-content">
                <h1 class="mb-4">Eidos User Guide</h1>
                <p class="lead">Welcome to Eidos! This guide will help you get started building ontologies, collaborating with others, and making the most of the platform.</p>

                <!-- Getting Started -->
                <section id="getting-started" class="doc-section">
                    <h2><i class="bi bi-rocket text-primary"></i> Getting Started</h2>

                    <h3>What is an Ontology?</h3>
                    <p>An ontology is a structured way to organize knowledge about a domain. It consists of:</p>
                    <ul>
                        <li><strong>Concepts</strong> - The things in your domain (e.g., "Dog", "Animal", "Pet")</li>
                        <li><strong>Relationships</strong> - How concepts relate to each other (e.g., "Dog is-a Animal")</li>
                        <li><strong>Properties</strong> - Attributes that describe concepts</li>
                    </ul>

                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> <strong>Example:</strong> If you're building an ontology for a pet store, you might have concepts like "Dog", "Cat", "Food", and "Toy", with relationships like "Dog needs-a Food" or "Cat is-a Pet".
                    </div>

                    <h3>Your First Login</h3>
                    <ol>
                        <li>Sign in using your preferred method (Google, GitHub, Microsoft, or Entra ID)</li>
                        <li>You'll see your dashboard with any existing ontologies</li>
                        <li>Click "Create New Ontology" to get started</li>
                    </ol>
                </section>

                <!-- Creating an Ontology -->
                <section id="creating-ontology" class="doc-section">
                    <h2><i class="bi bi-plus-circle text-primary"></i> Creating an Ontology</h2>

                    <h3>Step-by-Step</h3>
                    <ol>
                        <li>Click the <span class="badge bg-success">Create New Ontology</span> button</li>
                        <li>Enter a descriptive name for your ontology</li>
                        <li>Optionally add a description to explain its purpose</li>
                        <li>Click <strong>Create</strong></li>
                    </ol>

                    <div class="alert alert-success">
                        <i class="bi bi-check-circle"></i> <strong>Tip:</strong> Use clear, descriptive names like "E-commerce Product Catalog" instead of generic names like "My Ontology".
                    </div>

                    <h3>Ontology Settings</h3>
                    <p>You can configure your ontology by clicking the <i class="bi bi-gear"></i> Settings tab:</p>
                    <ul>
                        <li><strong>Name & Description</strong> - Update basic information</li>
                        <li><strong>Visibility</strong> - Make it private, public, or shared with specific users</li>
                        <li><strong>Permissions</strong> - Control who can view or edit</li>
                    </ul>
                </section>

                <!-- Working with Concepts -->
                <section id="concepts" class="doc-section">
                    <h2><i class="bi bi-box text-primary"></i> Working with Concepts</h2>

                    <h3>Adding Concepts</h3>
                    <p>There are several ways to add concepts:</p>

                    <h4>Method 1: Add Concept Button</h4>
                    <ol>
                        <li>Click <span class="badge bg-success"><i class="bi bi-plus-circle"></i> Add Concept</span></li>
                        <li>Enter the concept name (e.g., "Dog")</li>
                        <li>Add an optional description</li>
                        <li>Choose a color for visual identification</li>
                        <li>Click <strong>Save</strong></li>
                    </ol>

                    <h4>Method 2: Quick Add (Ctrl+Enter)</h4>
                    <ol>
                        <li>Enter a concept name in the input field</li>
                        <li>Press <kbd>Ctrl</kbd> + <kbd>Enter</kbd></li>
                        <li>The concept is added immediately</li>
                        <li>Continue typing and pressing <kbd>Ctrl</kbd> + <kbd>Enter</kbd> to add multiple concepts quickly</li>
                    </ol>

                    <h4>Method 3: From Graph View</h4>
                    <ol>
                        <li>In Graph view, <kbd>Ctrl</kbd> + <kbd>Click</kbd> on an existing concept</li>
                        <li>This creates a new related concept</li>
                        <li>Enter the name and relationship type</li>
                    </ol>

                    <h3>Editing Concepts</h3>
                    <ul>
                        <li>Click on a concept in List or Graph view</li>
                        <li>Modify the name, description, or color</li>
                        <li>Click <strong>Save Changes</strong></li>
                    </ul>

                    <h3>Deleting Concepts</h3>
                    <ol>
                        <li>Select the concept</li>
                        <li>Click the <span class="badge bg-danger"><i class="bi bi-trash"></i> Delete</span> button</li>
                        <li>Confirm the deletion</li>
                    </ol>

                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-triangle"></i> <strong>Warning:</strong> Deleting a concept also removes all its relationships. This action can be undone with <kbd>Ctrl</kbd> + <kbd>Z</kbd>.
                    </div>
                </section>

                <!-- Property Definitions -->
                <section id="property-definitions" class="doc-section">
                    <h2><i class="bi bi-diagram-2 text-primary"></i> Property Definitions</h2>

                    <h3>What are Property Definitions?</h3>
                    <p>Property Definitions let you define the <strong>schema</strong> for properties on concepts - like creating a template that says "this type of concept should have these specific properties." This is different from individual property values that you set on specific instances.</p>

                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> <strong>Think of it this way:</strong> If "Person" is a concept, property definitions would specify that all people have an "age" property (a number) and a "hasEmployer" property (linking to an Organization). Then when you create an individual person, you can fill in those property values.
                    </div>

                    <h3>Why Use Property Definitions?</h3>
                    <ul>
                        <li><strong>OWL Compliance</strong> - Create proper semantic ontologies compatible with Prot√©g√© and other OWL tools</li>
                        <li><strong>Type Safety</strong> - Define what data types properties should hold (text, numbers, dates, etc.)</li>
                        <li><strong>Documentation</strong> - Document the expected structure of your concepts</li>
                        <li><strong>Reusability</strong> - Define once on the concept, applies to all individuals of that type</li>
                        <li><strong>Validation Ready</strong> - Foundation for future automatic validation features</li>
                    </ul>

                    <h3>Types of Properties</h3>

                    <h4><span class="badge bg-primary">DataProperty</span></h4>
                    <p>Properties that hold literal values like text, numbers, or dates.</p>
                    <div class="card mb-3">
                        <div class="card-body">
                            <p class="mb-2"><strong>Available Data Types:</strong></p>
                            <ul>
                                <li><strong>string</strong> - Text values (names, descriptions)</li>
                                <li><strong>integer</strong> - Whole numbers (age, quantity)</li>
                                <li><strong>decimal</strong> - Numbers with decimals (price, temperature)</li>
                                <li><strong>boolean</strong> - True/False values</li>
                                <li><strong>date</strong> - Calendar dates</li>
                                <li><strong>anyURI</strong> - Web addresses</li>
                            </ul>
                            <p class="mb-2 mt-3"><strong>Example:</strong></p>
                            <p class="text-muted mb-0">On a "Person" concept, add a DataProperty called "age" with data type "integer" marked as required.</p>
                        </div>
                    </div>

                    <h4><span class="badge bg-success">ObjectProperty</span></h4>
                    <p>Properties that reference other individuals in your ontology - creating relationships between instances.</p>
                    <div class="card mb-3">
                        <div class="card-body">
                            <p class="mb-2"><strong>Key Features:</strong></p>
                            <ul>
                                <li>Specify which concept type the property points to (the "range")</li>
                                <li>Creates semantic links between individuals</li>
                                <li>Exports to OWL with proper owl:ObjectProperty declarations</li>
                            </ul>
                            <p class="mb-2 mt-3"><strong>Example:</strong></p>
                            <p class="text-muted mb-0">On a "Book" concept, add an ObjectProperty called "hasAuthor" with range "Person" - meaning books can have authors who are people.</p>
                        </div>
                    </div>

                    <h3>Property Characteristics</h3>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title"><span class="badge bg-danger">IsRequired</span></h5>
                                    <p class="card-text">Marks the property as mandatory - individuals of this concept must have this property.</p>
                                    <p class="text-muted small mb-0">Example: "title" on a "Book" concept</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title"><span class="badge bg-warning">IsFunctional</span></h5>
                                    <p class="card-text">Limits the property to a single value. In OWL terms, makes it an owl:FunctionalProperty.</p>
                                    <p class="text-muted small mb-0">Example: "birthDate" on a "Person" concept</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h3>How to Add Property Definitions</h3>

                    <h4>Step 1: Navigate to Manage Concepts</h4>
                    <ol>
                        <li>Open your ontology</li>
                        <li>Click the <i class="bi bi-gear"></i> <strong>Settings</strong> button</li>
                        <li>Go to the <strong>Manage Concepts</strong> tab</li>
                    </ol>

                    <h4>Step 2: Edit a Concept</h4>
                    <ol>
                        <li>Find the concept you want to add properties to</li>
                        <li>Click the <span class="badge bg-warning"><i class="bi bi-pencil"></i> Edit</span> button</li>
                        <li>Scroll down to the <strong>Property Definitions</strong> section</li>
                    </ol>

                    <h4>Step 3: Add a Property</h4>
                    <ol>
                        <li>Click <span class="badge bg-success"><i class="bi bi-plus"></i> Add Property</span></li>
                        <li>Enter the <strong>Property Name</strong> (e.g., "age", "hasAuthor", "title")</li>
                        <li>Select <strong>Property Type</strong>:
                            <ul>
                                <li><strong>DataProperty</strong> - For literal values</li>
                                <li><strong>ObjectProperty</strong> - For references to other individuals</li>
                            </ul>
                        </li>
                        <li>If DataProperty, select the <strong>Data Type</strong> (string, integer, etc.)</li>
                        <li>If ObjectProperty, select the <strong>Range Concept</strong> (what type of individual this property points to)</li>
                        <li>Optionally check:
                            <ul>
                                <li><strong>IsRequired</strong> - Property is mandatory</li>
                                <li><strong>IsFunctional</strong> - Property can only have one value</li>
                            </ul>
                        </li>
                        <li>Add a <strong>Description</strong> to explain the property's purpose</li>
                        <li>Optionally set a custom <strong>URI</strong> for the property identifier</li>
                        <li>Click <span class="badge bg-primary">Save</span></li>
                    </ol>

                    <h3>Real-World Example: Building a Library Ontology</h3>
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Concept: Book</h5>
                            <p class="mb-2">Property Definitions for Book:</p>

                            <h6 class="mt-3">DataProperties:</h6>
                            <ul>
                                <li><strong>title</strong>
                                    <ul>
                                        <li>Type: DataProperty</li>
                                        <li>Data Type: string</li>
                                        <li>IsRequired: ‚úì</li>
                                        <li>IsFunctional: ‚úì</li>
                                        <li>Description: "The title of the book"</li>
                                    </ul>
                                </li>
                                <li><strong>isbn</strong>
                                    <ul>
                                        <li>Type: DataProperty</li>
                                        <li>Data Type: string</li>
                                        <li>IsFunctional: ‚úì</li>
                                        <li>Description: "ISBN identifier"</li>
                                    </ul>
                                </li>
                                <li><strong>publicationYear</strong>
                                    <ul>
                                        <li>Type: DataProperty</li>
                                        <li>Data Type: integer</li>
                                        <li>Description: "Year the book was published"</li>
                                    </ul>
                                </li>
                            </ul>

                            <h6 class="mt-3">ObjectProperties:</h6>
                            <ul>
                                <li><strong>hasAuthor</strong>
                                    <ul>
                                        <li>Type: ObjectProperty</li>
                                        <li>Range: Person (concept)</li>
                                        <li>IsRequired: ‚úì</li>
                                        <li>Description: "The author who wrote the book"</li>
                                    </ul>
                                </li>
                                <li><strong>hasPublisher</strong>
                                    <ul>
                                        <li>Type: ObjectProperty</li>
                                        <li>Range: Organization (concept)</li>
                                        <li>IsFunctional: ‚úì</li>
                                        <li>Description: "The publisher of the book"</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <h3>Exporting Property Definitions</h3>

                    <h4>TTL Export (Prot√©g√© Compatible)</h4>
                    <p>When you export your ontology to TTL format, property definitions are included as proper OWL declarations:</p>
                    <ul>
                        <li>DataProperties export as <code>owl:DatatypeProperty</code></li>
                        <li>ObjectProperties export as <code>owl:ObjectProperty</code></li>
                        <li>Includes <code>rdfs:domain</code> (the concept) and <code>rdfs:range</code> (data type or target concept)</li>
                        <li>Functional properties include <code>owl:FunctionalProperty</code> declaration</li>
                        <li>Import the TTL file into Prot√©g√© to see the full property schema!</li>
                    </ul>

                    <h4>JSON Export</h4>
                    <p>Property definitions are also included in JSON exports in the <code>conceptProperties</code> array for each concept, making it easy to exchange ontology schemas with other systems.</p>

                    <h3>Tips for Using Property Definitions</h3>
                    <ul>
                        <li><strong>Start Simple</strong> - Define the most important properties first</li>
                        <li><strong>Use Clear Names</strong> - Property names should be self-explanatory</li>
                        <li><strong>Add Descriptions</strong> - Help others understand what each property represents</li>
                        <li><strong>Think About Cardinality</strong> - Use IsFunctional for single-valued properties</li>
                        <li><strong>Use ObjectProperties</strong> - They create rich semantic relationships between concepts</li>
                        <li><strong>Test in Prot√©g√©</strong> - Export to TTL and open in Prot√©g√© to validate your property schema</li>
                    </ul>

                    <div class="alert alert-success">
                        <i class="bi bi-lightbulb"></i> <strong>Pro Tip:</strong> Property Definitions create the schema/template, while individual property values are the actual data on specific instances. Think of properties like a form template, and individual property values as the filled-out form!
                    </div>
                </section>

                <!-- Restrictions -->
                <section id="restrictions" class="doc-section">
                    <h2><i class="bi bi-shield-check text-primary"></i> Restrictions</h2>

                    <h3>What are Restrictions?</h3>
                    <p>Restrictions are rules that help you define what values or properties concepts can have. Think of them as quality checks that make sure your ontology stays organized and accurate.</p>

                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> <strong>Simple Example:</strong> If you have a "Person" concept, you might add a restriction that says every person must have a name, or that someone's age must be a number.
                    </div>

                    <h3>Why Use Restrictions?</h3>
                    <ul>
                        <li><strong>Consistency</strong> - Ensure all similar concepts follow the same rules</li>
                        <li><strong>Data Quality</strong> - Catch mistakes early by defining what's allowed</li>
                        <li><strong>Clear Structure</strong> - Make your ontology easier for others to understand and use</li>
                        <li><strong>Validation</strong> - Automatically check that everything is filled in correctly</li>
                    </ul>

                    <h3>Types of Restrictions</h3>

                    <h4><span class="badge bg-danger">‚ö†Ô∏è Required</span></h4>
                    <p>Makes a property mandatory - it must have a value.</p>
                    <div class="card mb-3">
                        <div class="card-body">
                            <p class="mb-2"><strong>Example Use Case:</strong></p>
                            <p class="text-muted mb-0">In a library ontology, you could mark "title" as required on a "Book" concept. This ensures every book must have a title before it can be saved.</p>
                        </div>
                    </div>

                    <h4><span class="badge bg-info">üî§ Value Type</span></h4>
                    <p>Specifies what kind of data a property should hold.</p>
                    <div class="card mb-3">
                        <div class="card-body">
                            <p class="mb-2"><strong>Available Types:</strong></p>
                            <ul>
                                <li><strong>String</strong> - Text (like names, descriptions)</li>
                                <li><strong>Integer</strong> - Whole numbers (like age, quantity)</li>
                                <li><strong>Decimal</strong> - Numbers with decimals (like price, temperature)</li>
                                <li><strong>Boolean</strong> - True/False values (like "is available")</li>
                                <li><strong>Date</strong> - Calendar dates (like birth date, publication date)</li>
                                <li><strong>URI</strong> - Web addresses (like website URLs)</li>
                                <li><strong>Concept</strong> - Link to another concept in your ontology</li>
                            </ul>
                            <p class="mb-2 mt-3"><strong>Example Use Case:</strong></p>
                            <p class="text-muted mb-0">For a "Product" concept, you could specify that "price" must be a decimal number, ensuring nobody accidentally enters text where a price should be.</p>
                        </div>
                    </div>

                    <h4><span class="badge bg-primary">üî¢ Cardinality</span></h4>
                    <p>Controls how many values a property can have (minimum and/or maximum).</p>
                    <div class="card mb-3">
                        <div class="card-body">
                            <p class="mb-2"><strong>Common Patterns:</strong></p>
                            <ul>
                                <li><strong>Exactly 1</strong> - Set both min and max to 1</li>
                                <li><strong>At least 1</strong> - Set min to 1, leave max empty</li>
                                <li><strong>Up to 5</strong> - Leave min empty, set max to 5</li>
                                <li><strong>Between 2 and 4</strong> - Set min to 2, max to 4</li>
                            </ul>
                            <p class="mb-2 mt-3"><strong>Example Use Cases:</strong></p>
                            <ul class="mb-0">
                                <li class="text-muted">A "Person" must have exactly 2 biological parents (min: 2, max: 2)</li>
                                <li class="text-muted">A "Book" can have multiple authors but needs at least 1 (min: 1, max: empty)</li>
                                <li class="text-muted">A "Course" can have up to 30 students (min: empty, max: 30)</li>
                            </ul>
                        </div>
                    </div>

                    <h3>How to Add Restrictions</h3>

                    <h4>Step 1: Access the Manage Concepts Dialog</h4>
                    <ol>
                        <li>Open your ontology</li>
                        <li>Click the <span class="badge bg-secondary"><i class="bi bi-gear"></i> Settings</span> button</li>
                        <li>Select the <strong>Manage Concepts</strong> tab</li>
                    </ol>

                    <h4>Step 2: Edit a Concept</h4>
                    <ol>
                        <li>Find the concept you want to add restrictions to</li>
                        <li>Click the <span class="badge bg-warning"><i class="bi bi-pencil"></i> Edit</span> button</li>
                        <li>Scroll down to the <strong>Restrictions</strong> section</li>
                    </ol>

                    <h4>Step 3: Add a Restriction</h4>
                    <ol>
                        <li>Click <span class="badge bg-success"><i class="bi bi-plus"></i> Add Restriction</span></li>
                        <li>Enter the <strong>Property Name</strong> (e.g., "age", "email", "title")</li>
                        <li>Choose the <strong>Restriction Type</strong> from the dropdown</li>
                        <li>Fill in the type-specific fields that appear:
                            <ul>
                                <li><strong>Required:</strong> Just enable the checkbox</li>
                                <li><strong>Value Type:</strong> Select the data type from the dropdown</li>
                                <li><strong>Cardinality:</strong> Enter minimum and/or maximum counts</li>
                            </ul>
                        </li>
                        <li>Optionally add a description to explain why this restriction exists</li>
                        <li>Click <span class="badge bg-primary">Save Restriction</span></li>
                    </ol>

                    <div class="alert alert-success">
                        <i class="bi bi-lightbulb"></i> <strong>Tip:</strong> You can add multiple restrictions to the same property! For example, you could mark "age" as both required AND specify it must be an integer number.
                    </div>

                    <h3>Editing and Deleting Restrictions</h3>
                    <ul>
                        <li><strong>Edit:</strong> Click the <i class="bi bi-pencil"></i> icon next to a restriction, make changes, then click <strong>Save</strong></li>
                        <li><strong>Delete:</strong> Click the <i class="bi bi-trash"></i> icon and confirm the deletion</li>
                        <li><strong>Cancel:</strong> Click the <i class="bi bi-x"></i> icon to discard changes without saving</li>
                    </ul>

                    <h3>Real-World Example: Building a Recipe Ontology</h3>
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Concept: Recipe</h5>
                            <p class="mb-2">Here's how you might use restrictions for a Recipe concept:</p>
                            <ul>
                                <li><strong>Property: "title"</strong>
                                    <ul>
                                        <li>Required ‚úì</li>
                                        <li>Value Type: String</li>
                                    </ul>
                                </li>
                                <li><strong>Property: "servings"</strong>
                                    <ul>
                                        <li>Value Type: Integer</li>
                                        <li>Cardinality: Min 1, Max 1 (exactly one serving size)</li>
                                    </ul>
                                </li>
                                <li><strong>Property: "ingredients"</strong>
                                    <ul>
                                        <li>Required ‚úì</li>
                                        <li>Cardinality: Min 2 (at least 2 ingredients)</li>
                                    </ul>
                                </li>
                                <li><strong>Property: "prepTime"</strong>
                                    <ul>
                                        <li>Value Type: Integer</li>
                                        <li>Description: "Preparation time in minutes"</li>
                                    </ul>
                                </li>
                            </ul>
                            <p class="text-muted mb-0 mt-2"><small>With these restrictions, anyone adding a recipe to your ontology will know exactly what information is needed and in what format.</small></p>
                        </div>
                    </div>

                    <h3>Tips for Using Restrictions Effectively</h3>
                    <ul>
                        <li><strong>Start Simple</strong> - Add the most important restrictions first (like required fields)</li>
                        <li><strong>Use Clear Property Names</strong> - Make it obvious what the restriction applies to</li>
                        <li><strong>Add Descriptions</strong> - Explain why the restriction exists, especially for cardinality limits</li>
                        <li><strong>Test Your Restrictions</strong> - Try creating test data to see if the restrictions make sense</li>
                        <li><strong>Don't Over-Restrict</strong> - Too many strict rules can make your ontology hard to use</li>
                    </ul>

                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-triangle"></i> <strong>Note:</strong> Restrictions help guide and validate your data, but they won't automatically change existing concepts. They apply to new data and edits going forward.
                    </div>
                </section>

                <!-- Relationships -->
                <section id="relationships" class="doc-section">
                    <h2><i class="bi bi-arrow-left-right text-primary"></i> Relationships</h2>

                    <h3>Creating Relationships</h3>
                    <ol>
                        <li>Click <span class="badge bg-info"><i class="bi bi-arrow-left-right"></i> Add Relationship</span></li>
                        <li>Select the <strong>Source</strong> concept (e.g., "Dog")</li>
                        <li>Choose a <strong>Relationship Type</strong> (e.g., "is-a", "part-of", "has-a")</li>
                        <li>Select the <strong>Target</strong> concept (e.g., "Animal")</li>
                        <li>Optionally add a description</li>
                        <li>Click <strong>Save</strong></li>
                    </ol>

                    <h3>Common Relationship Types</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title"><span class="badge bg-dark">is-a</span></h5>
                                    <p class="card-text">Indicates a subtype relationship</p>
                                    <p class="text-muted small mb-0">Example: Dog is-a Animal</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title"><span class="badge bg-dark">part-of</span></h5>
                                    <p class="card-text">Indicates composition</p>
                                    <p class="text-muted small mb-0">Example: Wheel part-of Car</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title"><span class="badge bg-dark">has-a</span></h5>
                                    <p class="card-text">Indicates possession or attribute</p>
                                    <p class="text-muted small mb-0">Example: Person has-a Name</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h5 class="card-title"><span class="badge bg-dark">related-to</span></h5>
                                    <p class="card-text">Generic relationship</p>
                                    <p class="text-muted small mb-0">Example: Book related-to Author</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="alert alert-info">
                        <i class="bi bi-lightbulb"></i> <strong>Tip:</strong> You can create custom relationship types! Just type your own relationship name instead of selecting from the dropdown.
                    </div>
                </section>

                <!-- Different Views -->
                <section id="views" class="doc-section">
                    <h2><i class="bi bi-eye text-primary"></i> Different Views</h2>

                    <p>Eidos offers multiple ways to visualize and work with your ontology:</p>

                    <h3><i class="bi bi-diagram-3"></i> Graph View</h3>
                    <p>Visual network representation of concepts and relationships.</p>
                    <ul>
                        <li><strong>Drag</strong> nodes to rearrange the layout</li>
                        <li><strong>Click</strong> nodes to see details</li>
                        <li><strong>Zoom</strong> with mouse wheel</li>
                        <li><strong>Pan</strong> by dragging empty space</li>
                        <li><strong>Ctrl+Click</strong> to quick-add related concepts</li>
                    </ul>

                    <h3><i class="bi bi-list-ul"></i> List View</h3>
                    <p>Tabular view of all concepts with their properties.</p>
                    <ul>
                        <li>View all concepts at once</li>
                        <li>Quick editing and deletion</li>
                        <li>Search and filter capabilities</li>
                    </ul>

                    <h3><i class="bi bi-diagram-2"></i> Hierarchy View</h3>
                    <p>Tree structure showing parent-child relationships.</p>
                    <ul>
                        <li>Focuses on "is-a" and "subclass-of" relationships</li>
                        <li>Expand/collapse branches</li>
                        <li>Clear visualization of taxonomies</li>
                    </ul>

                    <h3><i class="bi bi-file-code"></i> TTL View</h3>
                    <p>Raw Turtle (TTL) format representation.</p>
                    <ul>
                        <li>See the OWL/RDF representation</li>
                        <li>Copy for use in other tools</li>
                        <li>Validate semantic web compliance</li>
                    </ul>
                </section>

                <!-- Workspaces & Notes -->
                <section id="workspaces" class="doc-section">
                    <h2><i class="bi bi-journal-text text-primary"></i> Workspaces & Notes</h2>

                    <h3>What are Workspaces?</h3>
                    <p>Workspaces combine your ontology with a wiki-style note-taking system, allowing you to capture both structured knowledge (concepts and relationships) and unstructured thoughts (markdown notes) in one integrated environment.</p>

                    <div class="alert alert-info">
                        <i class="bi bi-info-circle"></i> <strong>Think of it like this:</strong> Your ontology is the skeleton (structured concepts), and notes are the flesh (detailed explanations, examples, and context). Together they create a complete knowledge system!
                    </div>

                    <h3>Creating a Workspace</h3>
                    <ol>
                        <li>Navigate to your dashboard</li>
                        <li>Click "Create New Workspace"</li>
                        <li>Enter a name and optional description</li>
                        <li>Click "Create"</li>
                    </ol>
                    <p>When you create a workspace, Eidos automatically creates an associated ontology. Existing ontologies automatically get workspaces when you access them!</p>

                    <h3>The Three-Pane Interface</h3>

                    <h4>Left Pane - Note Explorer</h4>
                    <ul>
                        <li>Browse all notes in your workspace</li>
                        <li>Search notes by title</li>
                        <li>Quick-create new notes with the "+" button</li>
                        <li>Toggle between condensed and comfortable view modes</li>
                        <li>Visual badges distinguish concept notes from user notes</li>
                    </ul>

                    <h4>Center Pane - Content Editor</h4>
                    <ul>
                        <li>Edit markdown notes with full syntax support</li>
                        <li>Switch between edit and preview modes</li>
                        <li>Auto-saves as you type (look for the save indicator)</li>
                        <li>Click concept links in preview mode to navigate</li>
                    </ul>

                    <h4>Right Pane - Context Panel</h4>
                    <ul>
                        <li>View backlinks (notes that reference the current concept)</li>
                        <li>See related concepts from your ontology</li>
                        <li>Navigate concept relationships</li>
                        <li>Context snippets show where concepts are mentioned</li>
                    </ul>

                    <h3>Wiki-Style Concept Links</h3>
                    <p>The power of workspaces comes from linking notes to concepts using double-bracket syntax:</p>

                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Basic Syntax</h5>
                            <pre class="bg-light p-3 rounded">[[Concept Name]]</pre>
                            <p>This creates a link to "Concept Name". If the concept doesn't exist, it's automatically created!</p>
                        </div>
                    </div>

                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Display Text</h5>
                            <pre class="bg-light p-3 rounded">[[Person|John Doe]]</pre>
                            <p>Links to the "Person" concept but displays "John Doe" in your note.</p>
                        </div>
                    </div>

                    <h4>Automatic Concept Creation</h4>
                    <p>When you type <code>[[New Concept]]</code>, Eidos automatically:</p>
                    <ol>
                        <li>Creates the concept in your ontology</li>
                        <li>Creates a concept note for it</li>
                        <li>Links your current note to that concept</li>
                        <li>Tracks the link for backlinks</li>
                    </ol>

                    <h4>Example Usage</h4>
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Project Planning Note</h5>
                            <pre class="bg-light p-3 rounded small">## Project Overview

This project involves [[Software Development]] and [[Project Management]].

The team includes several [[Person|developers]] and a [[Person|project manager]].

Key concepts:
- [[Agile Methodology]]
- [[Sprint Planning]]
- [[Code Review]]</pre>
                            <p class="mb-0 text-muted small">This automatically creates 5 concepts in your ontology and links them all to this note!</p>
                        </div>
                    </div>

                    <h3>Note Types</h3>

                    <h4><span class="badge bg-primary">User Notes</span></h4>
                    <p>Free-form markdown notes you create manually:</p>
                    <ul>
                        <li>Click the "+" button in the note explorer</li>
                        <li>Enter your note title</li>
                        <li>Start writing in markdown</li>
                        <li>Use concept links to build your ontology organically</li>
                    </ul>

                    <h4><span class="badge bg-success">Concept Notes</span></h4>
                    <p>Automatically created for each concept in your ontology:</p>
                    <ul>
                        <li>Created when you reference a concept using <code>[[brackets]]</code></li>
                        <li>Also created when adding concepts via the graph view</li>
                        <li>Marked with a "Concept" badge for easy identification</li>
                        <li>Show all backlinks to that concept</li>
                    </ul>

                    <h3>Backlinks</h3>
                    <p>The backlinks panel shows which notes reference the current concept:</p>
                    <ul>
                        <li><strong>Context snippets:</strong> See surrounding text where the concept is mentioned</li>
                        <li><strong>Quick navigation:</strong> Click any backlink to jump to that note</li>
                        <li><strong>Knowledge discovery:</strong> Find unexpected connections</li>
                        <li><strong>Bi-directional:</strong> Creates a web of interconnected knowledge</li>
                    </ul>

                    <h3>Keyboard Shortcuts</h3>
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>Shortcut</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><kbd>Cmd/Ctrl</kbd> + <kbd>K</kbd></td>
                                    <td>Open quick switcher to search and jump to notes</td>
                                </tr>
                                <tr>
                                    <td><kbd>Cmd/Ctrl</kbd> + <kbd>E</kbd></td>
                                    <td>Toggle between edit and preview modes</td>
                                </tr>
                                <tr>
                                    <td><kbd>Cmd/Ctrl</kbd> + <kbd>S</kbd></td>
                                    <td>Save note (auto-saves anyway)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>Integrating Notes and Ontology</h3>

                    <h4>From Notes to Graph</h4>
                    <ol>
                        <li>Write notes with <code>[[concept links]]</code></li>
                        <li>Click "View in Graph" button in the toolbar</li>
                        <li>See all your concepts visualized</li>
                        <li>Add relationships between concepts</li>
                        <li>Define properties and restrictions</li>
                    </ol>

                    <h4>From Graph to Notes</h4>
                    <ol>
                        <li>In the ontology graph view, select any concept</li>
                        <li>Click "Open Note" in the details panel</li>
                        <li>Jump to that concept's note</li>
                        <li>See all backlinks (notes that reference this concept)</li>
                    </ol>

                    <h3>Best Practices</h3>
                    <ul>
                        <li><strong>Start with notes:</strong> Write freely using concept links, refine structure later</li>
                        <li><strong>Use descriptive names:</strong> Make concept names clear and searchable</li>
                        <li><strong>Link liberally:</strong> Don't worry about over-linking, connections are valuable</li>
                        <li><strong>Review backlinks:</strong> Discover unexpected connections in your knowledge</li>
                        <li><strong>Combine workflows:</strong> Bottom-up (notes ‚Üí concepts) and top-down (concepts ‚Üí notes)</li>
                    </ul>

                    <div class="alert alert-success">
                        <i class="bi bi-lightbulb"></i> <strong>Pro Tip:</strong> Use the quick switcher (<kbd>Cmd/Ctrl + K</kbd>) to rapidly navigate between notes. This is much faster than scrolling through the note list!
                    </div>
                </section>

                <!-- Collaboration -->
                <section id="collaboration" class="doc-section">
                    <h2><i class="bi bi-people text-primary"></i> Collaboration</h2>

                    <h3>Collaboration Board - Find Partners</h3>
                    <p>The Collaboration Board helps you find collaborators and work together on ontology projects!</p>

                    <h4>Finding Projects to Join</h4>
                    <ol>
                        <li>Navigate to <strong>Collaboration</strong> from the main menu</li>
                        <li>Browse active collaboration opportunities</li>
                        <li>Filter by:
                            <ul>
                                <li><strong>Domain</strong> - Healthcare, Finance, Technology, etc.</li>
                                <li><strong>Skill Level</strong> - Beginner, Intermediate, Advanced, Expert</li>
                                <li><strong>Keywords</strong> - Search for specific topics</li>
                            </ul>
                        </li>
                        <li>Click on a project to view full details</li>
                        <li>Click <span class="badge bg-success">Apply</span> to join</li>
                        <li>Write a message explaining your interest and relevant experience</li>
                    </ol>

                    <h4>Posting Your Project</h4>
                    <ol>
                        <li>Go to <strong>Collaboration > My Posts</strong></li>
                        <li>Click <span class="badge bg-primary">Create New Post</span></li>
                        <li>Fill in project details:
                            <ul>
                                <li><strong>Title</strong> - Clear, descriptive project name</li>
                                <li><strong>Description</strong> - What you're building and why</li>
                                <li><strong>Ontology</strong> - Select which ontology to collaborate on</li>
                                <li><strong>Domain</strong> - Project category</li>
                                <li><strong>Skill Level</strong> - Required expertise level</li>
                                <li><strong>Skills Needed</strong> - Specific skills you're looking for</li>
                                <li><strong>Commitment</strong> - Expected time commitment</li>
                            </ul>
                        </li>
                        <li>Click <strong>Create Post</strong></li>
                    </ol>

                    <div class="alert alert-success">
                        <i class="bi bi-magic"></i> <strong>Automatic Setup:</strong> When you create a collaboration post, Eidos automatically:
                        <ul class="mb-0 mt-2">
                            <li>Creates a collaboration group for your project</li>
                            <li>Sets your ontology to "Group" visibility</li>
                            <li>Grants edit permissions to the group</li>
                            <li>When you accept collaborators, they're automatically added to the group and can start editing right away!</li>
                        </ul>
                    </div>

                    <h4>Managing Responses</h4>
                    <p>In <strong>My Posts</strong>, you can:</p>
                    <ul>
                        <li>View all applicants for each project</li>
                        <li>Read their messages and experience</li>
                        <li><strong>Accept</strong> collaborators - they immediately get edit access to your ontology</li>
                        <li><strong>Decline</strong> responses if they're not a good fit</li>
                        <li>Toggle post active/inactive to pause/resume recruiting</li>
                        <li>View collaboration group members in Settings > Permissions</li>
                    </ul>

                    <h3>Real-Time Presence</h3>
                    <p>See who's currently viewing or editing your ontology:</p>
                    <ul>
                        <li>User avatars appear in the top-right corner</li>
                        <li>Colored dots show which tab each user is viewing</li>
                        <li>Click the eye icon <i class="bi bi-eye"></i> on a user's avatar to jump to their view</li>
                        <li>Hover over avatars to see user names</li>
                    </ul>

                    <h3>Group-Based Permissions</h3>
                    <p>Manage who can access your ontology through groups:</p>
                    <ol>
                        <li>Open your ontology</li>
                        <li>Go to <i class="bi bi-gear"></i> <strong>Settings</strong> tab</li>
                        <li>Navigate to <strong>Permissions</strong> sub-tab</li>
                        <li>Set visibility:
                            <ul>
                                <li><strong>Private</strong> - Only you and specific collaborators</li>
                                <li><strong>Group</strong> - Visible to groups you manage</li>
                                <li><strong>Public</strong> - Anyone can view</li>
                            </ul>
                        </li>
                        <li>View collaboration groups that have access</li>
                        <li>See group member counts and permission levels</li>
                    </ol>

                    <div class="alert alert-info">
                        <i class="bi bi-lightbulb"></i> <strong>Tip:</strong> Collaboration groups created through the Collaboration Board are automatically managed. When you accept someone, they join the group. When you remove them, they lose access automatically!
                    </div>

                    <h3>Managing Collaborators</h3>
                    <p>In the Collaborators tab, you can:</p>
                    <ul>
                        <li>See who has access to your ontology</li>
                        <li>View collaboration group members</li>
                        <li>Track activity and contributions</li>
                        <li>View access history</li>
                    </ul>
                </section>

                <!-- Importing -->
                <section id="importing" class="doc-section">
                    <h2><i class="bi bi-download text-primary"></i> Importing</h2>

                    <h3>Importing from TTL/OWL Files</h3>
                    <ol>
                        <li>Click the <i class="bi bi-download"></i> <strong>Import</strong> button</li>
                        <li>Choose your TTL, RDF, or OWL file</li>
                        <li>Review the preview of concepts and relationships</li>
                        <li>Select import mode:
                            <ul>
                                <li><strong>Replace</strong> - Replaces entire ontology</li>
                                <li><strong>Merge</strong> - Adds to existing concepts</li>
                            </ul>
                        </li>
                        <li>Click <strong>Import</strong> to complete</li>
                    </ol>

                    <div class="alert alert-warning">
                        <i class="bi bi-exclamation-triangle"></i> <strong>Note:</strong> Large imports may take a few moments. You'll see a progress indicator during the process.
                    </div>

                    <h3>Supported Formats</h3>
                    <ul>
                        <li>Turtle (.ttl)</li>
                        <li>RDF/XML (.rdf, .owl)</li>
                        <li>N-Triples (.nt)</li>
                    </ul>
                </section>

                <!-- Exporting -->
                <section id="exporting" class="doc-section">
                    <h2><i class="bi bi-upload text-primary"></i> Exporting</h2>

                    <h3>Export Formats</h3>
                    <p>Export your ontology in various formats:</p>

                    <h4>Turtle (TTL)</h4>
                    <ul>
                        <li>Standard OWL/RDF format</li>
                        <li>Compatible with Prot√©g√© and other ontology editors</li>
                        <li>Human-readable</li>
                    </ul>

                    <h4>JSON-LD</h4>
                    <ul>
                        <li>Linked Data format</li>
                        <li>Easy to use in web applications</li>
                        <li>Compatible with semantic web tools</li>
                    </ul>

                    <h4>RDF/XML</h4>
                    <ul>
                        <li>Classic RDF format</li>
                        <li>Widely supported</li>
                        <li>Good for interchange with older tools</li>
                    </ul>

                    <h3>How to Export</h3>
                    <ol>
                        <li>Click the <i class="bi bi-upload"></i> <strong>Export</strong> button</li>
                        <li>Select your desired format</li>
                        <li>Click <strong>Download</strong></li>
                        <li>The file will be saved to your downloads folder</li>
                    </ol>
                </section>

                <!-- Ontology Linking -->
                <section id="ontology-linking" class="doc-section">
                    <h2><i class="bi bi-diagram-3 text-primary"></i> Ontology Linking</h2>

                    <h3>What is Ontology Linking?</h3>
                    <p>
                        Ontology linking allows you to reference and visualize concepts from other ontologies without duplicating data.
                        It's similar to OWL's <code>owl:imports</code> - you can reuse ontologies and create relationships across them!
                    </p>

                    <h3>Two Types of Links</h3>

                    <h4>Internal Links</h4>
                    <p>Link to other ontologies within Eidos that you have permission to view.</p>
                    <ul>
                        <li>Real-time updates when source ontology changes</li>
                        <li>Full access to all concepts and relationships</li>
                        <li>Respects permission settings</li>
                    </ul>

                    <h4>External Links</h4>
                    <p>Link to external ontology URIs (like BFO, Dublin Core, etc.)</p>
                    <ul>
                        <li>Reference well-known upper ontologies</li>
                        <li>Export includes owl:imports declarations</li>
                        <li>Great for semantic web interoperability</li>
                    </ul>

                    <h3>How to Link an Ontology</h3>
                    <ol>
                        <li>Click <strong>Link Ontology</strong> in the actions bar</li>
                        <li>Choose <strong>Internal</strong> or <strong>External</strong> link type</li>
                        <li>
                            <strong>For Internal:</strong> Select an ontology from the dropdown
                            <br />
                            <strong>For External:</strong> Enter the ontology URI (e.g., http://purl.obolibrary.org/obo/bfo.owl)
                        </li>
                        <li>Add a display name and optional description</li>
                        <li>Click <strong>Create Link</strong></li>
                    </ol>

                    <h3>Viewing Linked Ontologies</h3>

                    <h4>Graph View</h4>
                    <ul>
                        <li>Linked ontologies appear as <strong>hexagon nodes</strong> with distinctive styling</li>
                        <li><strong>Click to expand</strong> and see all concepts from the linked ontology</li>
                        <li>Virtual concepts also shown as hexagons with source badges</li>
                        <li>Create relationships between your concepts and virtual concepts</li>
                        <li>Use "By Source" color mode to color-code by source ontology</li>
                    </ul>

                    <h4>List View</h4>
                    <ul>
                        <li>Toggle <strong>"Show Virtual"</strong> to see concepts from linked ontologies</li>
                        <li>Virtual items have light blue gradient backgrounds</li>
                        <li>Source ontology badges show where each concept originates</li>
                        <li>Nested ontologies shown with indentation</li>
                    </ul>

                    <h3>Importing Virtual Concepts</h3>
                    <p>Want to permanently add a virtual concept to your ontology? You can import it!</p>

                    <h4>From List View</h4>
                    <ol>
                        <li>Toggle "Show Virtual" on</li>
                        <li>Find the concept you want to import</li>
                        <li>Click the <strong>Import</strong> button</li>
                        <li>The concept and all its properties are copied to your ontology</li>
                    </ol>

                    <h4>From Graph View</h4>
                    <ol>
                        <li>Expand a linked ontology node</li>
                        <li><kbd>Ctrl</kbd> + <strong>Click</strong> a virtual concept</li>
                        <li>Select a target concept to create a relationship</li>
                        <li>The virtual concept is automatically imported!</li>
                    </ol>

                    <div class="alert alert-info">
                        <i class="bi bi-lightbulb me-2"></i>
                        <strong>Pro Tip:</strong> All property definitions (DataProperty and ObjectProperty) are imported
                        along with the concept, maintaining the full schema!
                    </div>

                    <h3>Managing Links</h3>
                    <p>View and manage your ontology links:</p>
                    <ol>
                        <li>Switch to the <strong>Links</strong> view</li>
                        <li>See all internal and external links</li>
                        <li>Edit link details or remove links as needed</li>
                        <li>View statistics about usage of each link</li>
                    </ol>
                </section>

                <!-- Keyboard Shortcuts -->
                <section id="keyboard-shortcuts" class="doc-section">
                    <h2><i class="bi bi-keyboard text-primary"></i> Keyboard Shortcuts</h2>

                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>Shortcut</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><kbd>Ctrl</kbd> + <kbd>Enter</kbd></td>
                                    <td>Quick add concept</td>
                                </tr>
                                <tr>
                                    <td><kbd>Ctrl</kbd> + <kbd>Z</kbd></td>
                                    <td>Undo last action</td>
                                </tr>
                                <tr>
                                    <td><kbd>Ctrl</kbd> + <kbd>Y</kbd></td>
                                    <td>Redo action</td>
                                </tr>
                                <tr>
                                    <td><kbd>Ctrl</kbd> + <kbd>Click</kbd> (Graph view)</td>
                                    <td>Quick-add related concept</td>
                                </tr>
                                <tr>
                                    <td><kbd>?</kbd></td>
                                    <td>Show keyboard shortcuts</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="alert alert-info">
                        <i class="bi bi-apple"></i> <strong>Mac Users:</strong> Use <kbd>‚åò Cmd</kbd> instead of <kbd>Ctrl</kbd>
                    </div>
                </section>

                <!-- Tips & Tricks -->
                <section id="tips" class="doc-section">
                    <h2><i class="bi bi-lightbulb text-primary"></i> Tips & Tricks</h2>

                    <h3>Best Practices</h3>
                    <ul>
                        <li><strong>Start broad, then narrow</strong> - Create general concepts first, then add specific ones</li>
                        <li><strong>Use consistent naming</strong> - Stick to a naming convention (PascalCase, camelCase, etc.)</li>
                        <li><strong>Add descriptions</strong> - Future you will thank you for documenting concepts</li>
                        <li><strong>Use color coding</strong> - Assign colors to concept categories for visual clarity</li>
                        <li><strong>Save templates</strong> - Use the Templates feature for commonly used concept patterns</li>
                    </ul>

                    <h3>Performance Tips</h3>
                    <ul>
                        <li><strong>Large ontologies</strong> - Use List view for bulk editing</li>
                        <li><strong>Complex graphs</strong> - Zoom in on specific areas instead of viewing everything</li>
                        <li><strong>Frequent changes</strong> - Use Ctrl+Enter for rapid concept creation</li>
                    </ul>

                    <h3>Collaboration Tips</h3>
                    <ul>
                        <li><strong>Communicate</strong> - Use the Notes tab to leave messages for collaborators</li>
                        <li><strong>Follow users</strong> - Click the eye icon on avatars to see what others are working on</li>
                        <li><strong>Review history</strong> - Check the History tab to see what changed</li>
                    </ul>

                    <h3>Troubleshooting</h3>
                    <div class="accordion" id="troubleshootingAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#troubleshoot1">
                                    My changes aren't saving
                                </button>
                            </h2>
                            <div id="troubleshoot1" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                <div class="accordion-body">
                                    <ul>
                                        <li>Check your internet connection</li>
                                        <li>Make sure you have edit permissions</li>
                                        <li>Try refreshing the page</li>
                                        <li>Check if someone else is editing the same concept</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#troubleshoot2">
                                    I can't see other users' presence
                                </button>
                            </h2>
                            <div id="troubleshoot2" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                <div class="accordion-body">
                                    <ul>
                                        <li>Make sure real-time features are enabled in settings</li>
                                        <li>Check that other users are actually online</li>
                                        <li>Try refreshing the page</li>
                                        <li>Check your firewall settings (SignalR requires websocket support)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#troubleshoot3">
                                    Import failed
                                </button>
                            </h2>
                            <div id="troubleshoot3" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                                <div class="accordion-body">
                                    <ul>
                                        <li>Ensure your file is in a supported format (TTL, RDF, OWL)</li>
                                        <li>Check that the file is valid RDF/OWL syntax</li>
                                        <li>Try importing a smaller file to test</li>
                                        <li>Check error messages for specific issues</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Need More Help -->
                <div class="alert alert-primary mt-5">
                    <h4><i class="bi bi-question-circle"></i> Need More Help?</h4>
                    <p>Can't find what you're looking for? Here are more resources:</p>
                    <ul class="mb-0">
                        <li><a href="/documentation" class="alert-link">Technical Documentation</a> - For developers and advanced users</li>
                        <li><a href="/release-notes" class="alert-link">What's New</a> - Latest features and updates</li>
                        <li><a href="https://github.com/your-repo/issues" class="alert-link" target="_blank">Report an Issue</a> - Found a bug or have a suggestion?</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    private string activeSection = "getting-started";

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await UpdateActiveSection();
        }
    }

    private async Task ScrollToSection(string sectionId)
    {
        await JS.InvokeVoidAsync("scrollToSection", sectionId);
        activeSection = sectionId;
        StateHasChanged();
    }

    private async Task UpdateActiveSection()
    {
        // This would be called on scroll to update active section
        StateHasChanged();
    }
}

<style>
    .user-guide-page {
        background: var(--bs-body-bg);
        min-height: 100vh;
    }

    .doc-nav {
        background: transparent;
        border-radius: 8px;
        padding: 15px;
        border: 1px solid var(--bs-border-color);
    }

    .doc-nav .nav-link {
        color: var(--bs-body-color);
        padding: 8px 12px;
        border-radius: 4px;
        margin-bottom: 4px;
        transition: all 0.2s;
        border: none;
        background: transparent;
        text-align: left;
        width: 100%;
        font-size: 0.9rem;
    }

    .doc-nav .nav-link:hover {
        background: var(--bs-primary);
        color: white;
    }

    .doc-nav .nav-link.active {
        background: var(--bs-primary);
        color: white;
        font-weight: 500;
    }

    .doc-nav .nav-link i {
        margin-right: 8px;
        width: 16px;
    }

    .doc-content {
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .doc-section {
        margin-bottom: 50px;
        scroll-margin-top: 20px;
    }

    .doc-section h2 {
        color: var(--bs-primary);
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--bs-primary);
    }

    .doc-section h3 {
        color: var(--bs-secondary);
        margin-top: 25px;
        margin-bottom: 15px;
    }

    .doc-section h4 {
        color: var(--bs-dark);
        margin-top: 20px;
        margin-bottom: 10px;
        font-size: 1.1rem;
    }

    kbd {
        background: var(--bs-dark);
        color: white;
        padding: 2px 6px;
        border-radius: 3px;
        font-size: 0.85em;
        font-family: monospace;
        border: 1px solid #000;
        box-shadow: 0 1px 2px rgba(0,0,0,0.3);
    }

    .card {
        transition: transform 0.2s;
    }

    .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    [data-bs-theme="dark"] .doc-nav {
        background: var(--bs-dark);
    }

    [data-bs-theme="dark"] .doc-content {
        background: var(--bs-dark);
    }

    [data-bs-theme="dark"] kbd {
        background: #1a1a1a;
        border-color: #444;
    }

    @@media (max-width: 991px) {
        .doc-content {
            padding: 20px;
        }
    }
</style>

<script>
    window.scrollToSection = (sectionId) => {
        const element = document.getElementById(sectionId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    };
</script>
