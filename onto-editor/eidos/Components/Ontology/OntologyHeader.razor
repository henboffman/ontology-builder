@using Eidos.Models

<!-- Header -->
<div class="mb-2">
    <div class="d-flex align-items-center gap-3 mb-1">
        <button class="btn btn-sm btn-outline-secondary" @onclick="OnBackClick">
            <i class="bi bi-arrow-left"></i> Back
        </button>
        <h2 class="mb-0">@Name</h2>
        <div class="d-flex gap-3 text-muted small ms-auto">
            <span><i class="bi bi-circle-fill"></i> @ConceptCount</span>
            <span><i class="bi bi-arrow-left-right"></i> @RelationshipCount</span>
            @if (!string.IsNullOrWhiteSpace(Version))
            {
                <span><i class="bi bi-tag"></i> v@Version</span>
            }
        </div>
    </div>
    @if (!string.IsNullOrWhiteSpace(Description))
    {
        <p class="text-muted mb-1 small">@Description</p>
    }
    @if (!string.IsNullOrWhiteSpace(Tags) || !string.IsNullOrWhiteSpace(Author) || ParentOntologyId != null)
    {
        <div class="d-flex gap-2 align-items-center">
            @if (!string.IsNullOrWhiteSpace(Tags))
            {
                @foreach (var tag in Tags.Split(',', StringSplitOptions.RemoveEmptyEntries | StringSplitOptions.TrimEntries))
                {
                    <span class="badge bg-info">@tag</span>
                }
            }
            @if (!string.IsNullOrWhiteSpace(Author))
            {
                <span class="text-muted small"><i class="bi bi-person"></i> @Author</span>
            }
            @if (ParentOntologyId != null)
            {
                <span class="badge bg-secondary">
                    <i class="bi bi-diagram-3"></i> @ProvenanceType
                </span>
            }
        </div>
    }
</div>

@code {
    [Parameter, EditorRequired]
    public required string Name { get; set; }

    [Parameter]
    public string? Description { get; set; }

    [Parameter]
    public string? Tags { get; set; }

    [Parameter]
    public string? Author { get; set; }

    [Parameter]
    public string? Version { get; set; }

    [Parameter]
    public int? ParentOntologyId { get; set; }

    [Parameter]
    public string? ProvenanceType { get; set; }

    [Parameter, EditorRequired]
    public required int ConceptCount { get; set; }

    [Parameter, EditorRequired]
    public required int RelationshipCount { get; set; }

    [Parameter]
    public EventCallback OnBackClick { get; set; }
}
